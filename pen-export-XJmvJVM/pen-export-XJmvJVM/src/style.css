:root{
  --bg:#f7f8fb;
  --fg:#1e2329;
  --muted:#6b7280;
  --primary:#2563eb;
  --card:#ffffff;
  --border:#e5e7eb;
  --shadow:0 8px 24px rgba(0,0,0,0.06);
}

:root.dark{
  --bg:#0f141b;
  --fg:#e5e7eb;
  --muted:#9aa3af;
  --primary:#60a5fa;
  --card:#131a22;
  --border:#202734;
  --shadow:0 8px 24px rgba(0,0,0,0.3);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  background:var(--bg);
  color:var(--fg);
  line-height:1.6;
}

/* Header */
.site-header{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; gap:.75rem;
  padding:.75rem 1rem;
  background:var(--card);
  border-bottom:1px solid var(--border);
}
.site-title{font-size:1.1rem; margin:0; font-weight:700;}
.header-actions{margin-left:auto; display:flex; align-items:center; gap:.5rem;}
.search input{
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--fg);
  padding:.5rem .75rem;
  border-radius:.5rem;
  min-width:220px;
}

/* Layout */
.container{display:grid; grid-template-columns:260px 1fr; gap:0; align-items:start;}
.sidebar{
  position:sticky; top:56px; height:calc(100vh - 56px); overflow:auto;
  border-right:1px solid var(--border);
  background:var(--card);
}
.sidebar-inner{padding:1rem;}
.brand{font-weight:700; margin-bottom:.5rem;}
.toc{list-style:none; margin:0; padding:0}
.toc li{margin:.25rem 0;}
.toc a{
  display:block; padding:.4rem .5rem; border-radius:.4rem;
  color:var(--fg); text-decoration:none;
}
.toc a:hover, .toc a:focus{background:var(--bg); outline:none}
.mini-help details{margin-top:1rem; border-top:1px dashed var(--border); padding-top:1rem; color:var(--muted);}

.content{padding:1.25rem; max-width:1100px;}

/* Sections */
.section{margin:1rem 0 2rem;}
.section h2{margin:.2rem 0 1rem; font-size:1.4rem;}
.lead{color:var(--muted); margin-top:-.25rem}

/* Cards & Grid */
.grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:1rem;}
.card{
  grid-column: span 12;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px;
  padding:1rem;
  box-shadow:var(--shadow);
}
@media(min-width:900px){
  .card{grid-column: span 6;}
}
.card h3{margin:.25rem 0 .5rem; font-size:1.1rem;}
.steps{margin:.5rem 0 .25rem; padding-left:1.25rem}
.bullets{margin:.5rem 0 .25rem}
.tip{
  margin-top:.5rem;
  background:linear-gradient(90deg, rgba(37,99,235,.08), transparent 60%);
  border-left:4px solid var(--primary);
  padding:.5rem .75rem; border-radius:8px; color:var(--fg);
}

/* Buttons */
.btn{
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--fg);
  padding:.45rem .75rem; border-radius:.5rem;
  cursor:pointer;
}
.btn:hover{filter:brightness(0.98)}
.btn.icon-only{font-size:1rem; width:36px; height:36px; display:grid; place-items:center}

/* Checklist */
.checklist{
  display:grid; gap:.5rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px; padding:1rem;
  box-shadow:var(--shadow);
  max-width:800px;
}
.check{display:flex; gap:.6rem; align-items:center; font-weight:500;}
.check input{width:18px; height:18px}

/* Accordion */
.accordion{
  margin-top:.5rem; border:1px solid var(--border); border-radius:10px; overflow:hidden;
  background:var(--bg);
}
.accordion > summary{
  cursor:pointer; padding:.6rem .75rem; font-weight:600; list-style:none;
}
.accordion[open] > summary{border-bottom:1px solid var(--border);}
.accordion > *:not(summary){padding:.75rem}

/* Code snippet */
.snippet{
  background: #0b1020;
  color: #d7e0ff;
  padding:.75rem; border-radius:8px; overflow:auto;
  border:1px solid #1c2340;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:.9rem;
}
.mono-list kbd{
  background:var(--bg); border:1px solid var(--border);
  padding:.15rem .35rem; border-radius:.35rem; font-family:inherit;
}

/* Placeholders */
.placeholder{margin-top:.5rem; text-align:center}
.ph-img{
  height:140px; display:grid; place-items:center;
  background:repeating-linear-gradient(45deg, #e5e7eb 0 12px, #f3f4f6 12px 24px);
  color:#4b5563; border:1px dashed var(--border); border-radius:10px;
}

/* Footer */
.site-footer{
  display:flex; gap:.75rem; align-items:center; justify-content:space-between;
  padding:1.25rem 0; color:var(--muted);
  border-top:1px solid var(--border);
}

/* Utility */
.link{color:var(--primary); text-underline-offset:2px}
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* Mobile */
@media (max-width: 960px){
  .container{grid-template-columns:1fr}
  .sidebar{position:fixed; left:0; top:56px; width:280px;
    transform:translateX(-100%); transition:.2s transform ease;
    box-shadow:var(--shadow);
  }
  .sidebar.open{transform:translateX(0)}
  .content{padding:1rem}
}

/* Print (한 장 요약용) */
@media print{
  header, .sidebar, .site-footer, #searchInput, #darkToggle, #menuToggle{display:none !important}
  .content{max-width:100%; padding:0}
  .card{box-shadow:none}
}
